### Lecture 2

----

### Mechanism Design Basics

这一个lecture开始正式进入机制设计的学习中，这是一门关于规则制定的科学。这个lecture将会介绍单物品拍卖的例子，这是在机制设计问题中的一个十分重要的例子，同时我们会给出基于这种相对简单的设定下的一些机制设计的基础知识，后续的lectures将会把这个例子扩展到更加复杂的情景中去。

2.1节将会给出单物品拍卖的模型，包括对于bidders来说的近线性的收益模型；2.2节我们将会快速的将这种物品拍卖做一种形式化的处理；2.3节我们将会引入一价拍卖的模型；2.4节我们将会引入二价拍卖（Vickrey）模型同时给出这些模型的一些基本的性质；2.5节我们将会探讨我们在拍卖中所期望获得的东西：健壮的激励机制的保证，健壮的表现的保证同时还要保证整个过程的可计算性；2.6节给出一个学习案例：网络搜索引擎赞助关键词竞价拍卖的例子，这个一个在拍卖理论中“杀手级别的应用”（应用的十分广泛）。

#### 2.1 Single-Item Auctions

我们从单物品拍卖的例子开始机制设计的讨论，首先回想一下我们在这一部分的首要的目标。

**Goal 1**：理解如何设计机制使得系统具有鲁棒性的表现。

考虑下面这个情景，有一个卖家想要出售一个稍微有些过时的智能手机，这是一种在eBay上十分常见的形式，同时存在着潜在的对这个商品有兴趣的bidders，我们假设一共有$n$个竞拍者。

我们想要推断在不同情形下bidder的一些行为表现。为了达成这个目标，我们需要建立一个关于竞拍者需求的模型。首先我们需要给出一个最为关键的假设：每一个竞拍者$i$都拥有一个对拍卖商品非负的估值$v_i$，这个估值代表着他所愿意为这件拍卖品付出的最高的价格。同时我们又知道对于竞拍者$i$来说在给定最高估价$v_i$的情况下，当然希望获得商品所付出的价格越低越好。另外一个十分重要的假设是对于商品的估值是私密的，这也就意味着除了bidder自己之外没有人知道他的$v_i$。

我们的竞拍者收益模型也被称为近线性收益模型。如果一个竞拍者$i$没有能够成功拍到这个商品，那么他的收益就为0，如果竞拍者以$p$的价格拍到了这个商品，那么他的收益就等于$v_i - p$. 这是一个十分简单同时也很自然的收益模型，这也是我们将会一直集中讨论的一种设定。

#### 2.2 Sealed-Bid Auctions

对于大多数的情境下，我们都是讨论的拍卖理论中的一种简单的形式：密封式拍卖，它的特点如下：

- 每一个竞拍者私密地给卖家一个报价$b_i$.
- 由卖家决定将这个商品分配给哪个竞拍者。
- 由卖家决定卖给竞拍者的价格。

对于第二点我们会直接产生最简单的一种想法，将这个商品直接卖给报价最高的人，在本lecture中这是唯一的一种分配规则。

而关于第三点商品的售价存在很多种合理的方式，同时这个定价也很大程度上决定了bidders的一些策略和出价结果。举个例子，如果我们将商品分配给出价最高的人同时收取售价为0，那么这个机制下就会出现意外的一些状况，这个拍卖变为了谁能报出最高的价格的游戏。

#### 2.3 First-Price Auctions

在一价拍卖中，获得商品的竞拍者支付的价格是他自己的报价。这样的拍卖在现实的情境下是经常发生的。

一价拍卖是非常难以推理结果的。首先对于参与者来说，这是十分难去思考如何出价的。第二点对于一个卖家或者拍卖的设计者，是很难预测拍卖的结果的。为了说明这一点，我们可以想象下面的一种情景：你对这件商品的估值等于你生日的月份加上你生日的日期，因此你的估价是在2-43之间的，假设这个世界上还有一个和你一样方式计算估值的人，那么你将如何出价来使得自己的收益最大化呢？这将帮助你了解你的对手的生日日期吗？如果当你知道你的竞拍对手不是一个而是两个的时候，你的出价会发生变化吗？

#### 2.4 Second-Price Auctions and Dominant Strategies

下面我们关注一种不同的单物品拍卖的机制，这种机制也十分常见，但是这种机制是十分容易做推断去预测最终竞拍的结果的。当你在eBay上竞拍成功一件物品的时候，你所给出的价格为100刀，而实际上你会付出100刀吗？答案是不一定，很多时候eBay使用一个“代理竞价人”来代表你提高出价，直到你的最高出价达到，或者直到你是最高的竞价人，以先到者为准。例如：如果除了最高的价格外的最高为90刀，那么你就仅仅用付出90刀而不是你自己的最高出价100刀。（也就是说你如果赢得了一个eBay的拍卖，你所需要付出的价格一定是第二高的价格。）

一个二价拍卖或者说是维克里拍卖是一种密封拍卖的形式，这种规则下最高报价者获胜，同时他只需要付出第二高的价格。为了陈述二价拍卖最重要的性质，我们定义了一种占优策略，这种策略保证可以最大化一个竞拍者的收益，不管别的竞拍者进行怎样的操作或者选择。

**性质2.1：（二价拍卖中的激励机制）**在一个二价拍卖中，每一个竞拍者有一个占优策略：将自己的出价$b_i$设置为他自己对于这个商品的估值$v_i$。

性质2.1告诉我们二价拍卖是十分容易参与其中的，当进行竞拍时，一个竞拍者不需要考虑太多的其他因素，不需要考虑别人如何出价，别人的估值，别人是否会谎报等，他只需要报出自己的真实的估值就可以了。这一点和一价拍卖是很不相同的，因为如果在一价拍卖中进行实报的话，对于每一个竞拍者来说他的收益一定是为零的并且一种占优的策略是进行低报，但是低报的结果是取决于别的竞拍者的，所以这个问题是很难考虑的，这也是一价拍卖的弊端所在。

**Proof 性质2.1**：对于一个竞拍者$i$来说，他的估值为$v_i$，并且所有别人的出价我们定义为一个向量的形式$\mathbf{b_{-i}}$，$\mathbf{b_{-i}}$表示的是除了$i$之外的其他所有竞拍者的出价的向量的集合。下面我们需要证明的是当$b_i = v_i$时，对于竞拍者$i$来说他的收益一定是最大的。

让$B =\max_{j\neq i}b_j$，则$B$表示的是除了$i$以外出价最高的那个价格。尽管说我们可能不太清楚在一场二价拍卖中一共有多少的竞拍者参与到其中，但是我们知道的是只有两种情况可能会发生，一种情况下:$b_i < B$，则显然这个竞拍者是不会获得此商品，同时也不需要支付相应的价格，因此其$u_i = 0$，另外一种情况下：$b_i \geq B$，则$i$会在这场竞拍中获胜同时他将支付的价格为$B$，则其收益为$v_i - B$。总结下来我们可以考虑两种情形，第一种：$v_i < B$，对于$i$来说他所能获得最大的收益应该等于：$\max\{0,v_i-B\} = 0$，并且取得最大的情况是他实报的时候出现；第二种情形：$v_i \geq B $，对于$i$来说最大的收益就是$\max\{0,v_i-B\} = v_i - B$，同时这种情形下取得收益的最大值也必须是他实报自己的估值。

另一个重要的特点是，一个诚实的竞标者——也就是出价真实的人——永远不会后悔参加二次拍卖。

**性质2.2：（非负收益）**在一个二价拍卖中，每一个实报的竞拍者都一定是非负收益的。

**Proof**：失败者的收益一定为0，而如果一个竞拍者$i$是获胜者，他的收益等于$v_i - p$，其中$p$是第二高的价格。既然$i$是获胜者同时他是实报自己的价格的，因此我们会知道$p\leq v_i$，因此其收益一定是正数。

#### 2.5 Ideal Auctions

单物品的二价拍卖我们可以将其称为“理想”拍卖，因为这种机制下对于系统内的所有人存在三个不同的但是很优良的性质，我们将第一个性质进行如下的形式化的定义：

**Definition 2.3（Dominant-Strategy Incentive Compatible）**：对于一场拍卖如果实报一直是一种占优策略并且每一个竞拍者都在整场拍卖中有着非负的收益，我们就认为这个拍卖是DSIC的。

对于一场单物品拍卖中**社会福利**定义为：

$$\sum_{i=1}^{n} v_ix_i $$

其中$x_i$为1当竞拍者$i$在一场拍卖中获胜，否则的话$x_i$就为0。因为这是单物品拍卖的场景。因此其中存在一个约束：$\sum_{i=1}^{n} x_i \leq 1$. 因此显然我们就可以发现社会福利的大小在这里是等于获胜者对于这个商品的估值的。一场拍卖中社会福利最大化当且仅当所有的竞拍都是真实的报价，因此这个拍卖会存在理想中的最大可能的社会福利。

**Theorem 2.4（Second-Price Auctions Are Ideal）**：一个单物品的二价拍卖的竞拍满足以下的特征：

（1）[确保拍卖是强激励性的]也就是说这是个DSIC的拍卖。

（2）[确保拍卖有稳定的表现]社会福利最大化。

（3）[可计算性]可以在多项式时间内将这个拍卖问题解决出来。

对于一场拍卖来说，以上的所有三条性质都是很重要的，从bidder的角度来说，DSIC使得bidder可以非常容易的选取出一个报价，并且可以将整个博弈空间从非常复杂的情境变为非常简单的空间；从一个卖家或者说竞拍的设计者的角度来说：DSIC的性质可以让他们非常容易的推断出整个拍卖最终的走向（因为所有的拍卖中的结果的预测都是基于关于每一个bidder的行为来进行的）。在一场DSIC的竞拍中，唯一的假设就是每一个竞拍者都是使用的占优策略去进行竞拍的。在其他的非DSIC的竞拍中的对于行为的假设往往是比这个条件更加强的。

在机制设计的环节中能够做到DSIC是很好的，当然我们还希望能够有一些更多的性质。例如：在一场免费的竞拍中将竞拍物品送给任意一个bidder也是DSIC的，但是这种方式对于识别出真正希望得到这个商品的人是没有任何的帮助的。关于福利最大化的性质相当的重要：即使对于卖家来说每一个竞拍者的估值都是一个未知的先验，但是即便如此我们还是可以在整个拍卖中识别出最高的估值的竞拍者。这就是二价拍卖的问题去实现社会福利最大化的过程就像我们提前知道了所有竞拍者对于这个物品的估值一样。

可计算性也是十分重要的，因为为了拥有潜在的实践效用，一场拍卖是需要在合理的时间中将其计算出来的。例如网上竞标搜索引擎的关键词就是需要实时计算。

#### 2.6 Case Study： Sponsored Search Auctions

##### 2.6.1 Background

在进行网页搜索的时候，我们往往得到的是一个包含了一系列的有组织的并且和你的搜索关键词相关的一个网页，这种常常是使用的PageRank这样的算法。但是同时我们还会发现旁边还会有一些赞助的广告商的链接。每一次你输入了一个搜索的关键词进入搜索引擎，一场竞拍是在实时运行的，这场拍卖决定了哪些广告商的广告会显示，同时这些广告显示的顺序又是什么样子的以及这些广告将会被收取什么样的费用。你会很难想象关于对于这种赞助搜索的拍卖将会对于互联网经济将会有多大的效用，而事实上有这样一个统计，在2006年的时候，谷歌的收益中有将近96%都是来自于这种赞助搜索的拍卖的形式。

##### 2.6.2 The Basic Model of Sponsored Search Auctions

我们下面讨论一个非常简单的但是非常实用的赞助搜索引擎的模型。用于销售的物品是“k个在一张搜索结果页面上的位置”。bidders是那些广告的赞助商，这些赞助商对于这个搜索的关键词都是存在一个报价的。例如：沃尔沃和斯巴鲁也许会在关键词“旅行车（wagon）”上进行竞拍，同时尼康和佳能也许也会对于关键词“相机（camera）”进行类似的竞拍。这样的拍卖相对于单物品的拍卖存在这样两个方面是更加复杂的：首先这是一个多物品的拍卖，其次这些商品是不平等的，例如广告的位置是呈现称为一种类似于有序清单的样子的，因为人们在浏览页面的时候往往从上向下浏览，所以上面的一些位置是优于一些下面的位置的。

我们通过点击率（CTRs）来区分不同的位置。对于位置$j$我们假设其点击率为$\alpha_j$，其表示的是最终用于点击进入这个链接的概率。对于所有的位置从上到下进行排序我们可以得到：$\alpha_1 > \alpha_2 > \cdots \alpha_k$.为了进一步简化我们的模型，我们还假设这个位置和其持有者之间是相互独立的。所有我们关于赞助搜索拍卖的讨论可以扩展到一个更加广义的真实的模型上去：对于每一个广告商$i$都有一个质量分数$\beta_i$，因此对于一个位置$j$来说对于广告商$i$在这个位置上的点击率等于$\beta_i\alpha_j$。

我们假设每一个广告商对于点击其链接都有一个私人的估值$v_i$。因此对于广告商$i$来说从位置$j$的期望收益等于$v_i \alpha_j$。

##### 2.6.3 What We Want

是否存在理想化的赞助搜索拍卖呢？我们的愿望如下：

（1）DSIC：实报是一种占优策略同时受益非负。

（2）社会福利最大化。

（3）可计算性：多项式时间内可计算。

##### 2.6.4 Our Design Approach

关于拍卖的问题的机制设计上存在两个难点：选择谁获得那个商品，以及所付出的价格。在许多的应用中，包括赞助搜索拍卖在内，我们可以采取以下的步骤来解决这个two-prong的设计问题：

**Step 1**：首先假设每一个bidder都是实报的，我们如何分配位置使得社会福利最大化以及可计算性。

**Step 2**：设计payment的机制是符合DSIC的。

如果我们能够顺利的解决这样两个问题我们就可以得到一个理想的结果。



----

>本章要点回顾：
>
>1. 单物品拍卖的情境下：单个卖家多个竞拍者，每一个竞拍者有一个私人的估值。单物品拍卖的机制设计是一个非常简单但是经典的例子。
>2. 如果实报是占优策略同时实报的玩家的收益始终非负则成为这个拍卖机制是DSIC的。
>3. 假设实报，拍卖的结果总会得到最大可能性的社会福利，则我们称为这个竞拍是社会福利最大化的。
>4. 二价拍卖是理想拍卖因为其满足：DSIC，社会福利最大化以及多项式计算时间。
>5. 赞助搜索拍卖是互联网经济的一大组成部分，这种拍卖情景比单物品拍卖更加复杂因为存在多个拍卖物品同时拍卖物品的价值不同。
>6. 设计理想拍卖的两步骤：首先假设实报设计分配规则使得社会福利最大，然后设计付款规则来满足DSIC。