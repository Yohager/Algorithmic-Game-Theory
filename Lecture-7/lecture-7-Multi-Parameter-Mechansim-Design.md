### Lecture 7

-----

### Multi-Parameter Mechanism Design

第2-6讲都是仅仅考虑了单参数的机制设计问题，其中唯一的私人参数是一个agent对于单位物品的估值。多参数的问题的机制设计会变得十分复杂，因为每个agent的私人参数是多个的。VCG机制提供了一种非常优秀的结论：原则上，在每一个多参数的环境下，DSIC的社会福利最大化机制是存在的。

7.1节主要定义广义的机制设计环境；7.2节推导VCG机制并且证明其DSIC的性质；7.3节讨论的在实际情况下VCG机制的可行性问题。

#### 7.1 General Mechanism Design Environments

一个广义的多参数机制设计环境由下面的一个要素构成：

- $n$个绝对理性的竞拍者或者说智能体
- 一个确定的结果集合$\Omega$
- 每个智能体对于每一个属于结果集合的结果$\omega$都有其私人非负的估值$v_i(\omega)$

关于结果集合$\Omega$可能是非常抽象的，这个集合可能会非常庞大。关于一个结果$\omega\in \Omega$下的社会福利被定义为：$\sum_{i=1}^n v_i(\omega)$.

回顾一下单物品拍卖的情境，$\Omega$只会存在$n+1$种结果，每一个agent获胜对应一种结果，还有一种是谁都不分配。我们假设$i$号agent在不被分配物品的情况下其对结果的估值均为0，那么对于每一个agent最终我们都只会存在一个不知道的参数（即在其获胜时他的估值），但是这个问题在多参数的情况下会变得十分复杂，因为每一个agent可能有对于每一个不同玩家获胜结果的不同估值而非是确定的0.

在组合拍卖中，假设存在$n$个bidders，同时有$m$个商品用集合$M$表示，那么这个结果集合就可以表示为一个$n$-vectors: $(S_1,\cdots,S_n)$，其中$S_i\subset M$表示分配给$i$的物品量，结果看来就会存在$(n+1)^m$种不同结果。每一个玩家对于$v_i(S)$,$S\subset M$都有一个私人的估值，因此就会有$2^m$个私人参数。

组合拍卖的应用十分广泛，被应用于政府的频谱拍卖，机场的起降位置分配的问题等等。

#### The VCG Mechanism

下面我们介绍在机制涉及领域最为出名的理论，VCG机制，这个机制告诉我们一个非常重要的结论：在每一个多参数的环境下都保证存在一个DSIC的社会福利最大化的机制。

回顾我们机制设计的两步法，我们首先假设所有的agents如实的汇报他们的估值然后找出合适的结果，这个结果基于目标找出，这里的目标就是社会福利最大化的要求。假设报价等于估值，给定报价$b_1,\cdots,b_n$，每一个报价都是在$\Omega$下的一个向量，我们定义分配规则$\bold{x}$如下：
$$
\bold{x}(\bold{b})=\arg\max_{\omega\in \Omega}\sum_{i=1}^n b_i(\omega)
$$
第二步是定义一个付款机制来匹配分配策略，最终导出一个DSIC的机制。在面对单参数环境时，我们构建了Myerson's Lemma，Myerson引理导出了一个对于所有环境下都成立的广义的解，但是Myerson's Lemma也仅仅适用于单参数的环境下，在多参数的环境下我们是无法定义单调性以及ciritical bid的。

如何将这个payment机制推广到多维参数的情况下的问题，核心idea在于我们认为$i$号bidder应该支付的内容是一个"externality"，这个是指由于$i$的加入，其他$n-1$个智能体的社会福利的损失量。考虑单物品拍卖的情况下，获胜者得到的是所要支付的社会福利的损失量等于第二高的bidder的报价。这是准确的二价拍卖的支付规则。$i$玩家支付其外部性可以定义到广泛的机制设计的环境中，对应的支付规则就是：
$$
p_i(\bold{b})=\left( \max_{\omega\in \Omega} \sum_{j\neq i} b_j(\omega) \right)-\sum_{j\neq i}b_j(\omega*)
$$
其中$\omega^*=\bold{x}(\bold{b})$是在上面的VCG机制的分配规则中给出的最优情况。直觉上，这些支付方式强迫agents去内部化他们的外部性，从而使得他们的激励性与社会福利最大化的决定这一致。

**定义**：VCG机制：一个机制$(x,p)$的分配规则和支付规则如上面的两个式子所示，那么我们就称这个机制是Vickrey-Clarke-Groves Mechanism.

我们还可以将VCG机制中的payment改写为：
$$
p_i(\bold{b})=b_i(\omega^*)-\left[\sum_{j=1}^n b_j(\omega^*)-\max_{\omega \in \Omega}\sum_{j\neq i} b_j(\omega)\right]
$$
我们可以认为$i$号agent的payment等于它的bid减去一个折扣，这个折扣等于由于$i$的出现而带来的社会福利的增量。例如在二价拍卖中，获胜的玩家的payment等于$b_1$（自己的报价）减去$b_1-b_2$（社会福利的增量），最终他需要支付的量就是第二高的价格。

这也表面了$p_i(\bold{b}])\leq b_i(\omega^*)$，因此我们会发现实报总会保证收益非负。

下面给出VCG机制的证明：

假设我们固定一个任意的机制设计的环境，同时定义$(\bold{x},\bold{p})$为对应的VCG机制。根据定义在所有玩家都是实报的情况下我们知道一定是社会福利最大化的。下面我们主要需要说明其DSIC的性质。证明的主要思路就是：固定其他人的报价$\bold{b}_{-i}$，我们如何说明对于$i$号bidder，我们一定有当其设置$b_i=v_i$时其近似线性的收益值$v_i(\bold{x}(\bold{b}))-p_i(\bold{b})$一定是最大的。

固定$i$和$\bold{b}_{-i}$，当我们选择$\bold{x}(\bold{b})$为$\omega^*$时，我们可以写出$i$的收益：
$$
v_i(\omega^*)-p_i(\bold{b})=\left[v_i(\omega^*)+\sum_{j\neq i} b_j(\omega^*)\right] - \left[ \max_{\omega\in\Omega}\sum_{j\neq i}b_j(\omega) \right]
$$
我们不难发现后一项$\max_{\omega\in\Omega}\sum_{j\neq i}b_j(\omega)$是一个常量，与$i$的报价$\bold{b}_{i}$无关。因此最大化收益的问题就是对前一项进行最大化处理。我们注意前一项，假设$v_i=b_i$ ，我们就可以得到前一项与VCG机制的分配机制要求一样的式子，也就是$\bold{x}(\bold{b})=\arg\max_{\omega\in \Omega}\sum_{i=1}^n b_i(\omega)$这样一个等式的右边部分，因此实报能够导出的就是对于$i$来说的最大的收益值，没有别的任何一种报价可以使得这个值更大了，到此为止证毕。

#### 7.3 Practical Considerations

前面我们给出了一个非常漂亮的结论，多参数环境下原则上一定存在DSIC社会福利最大化的机制。但是在多参数环境下，VCG机制的试试往往非常复杂同时也有非常多的问题存在。

第一个实施VCG机制的挑战在于：偏好导出的困难性。例如在一个组合拍卖中，给出了来自所有agents的报价，每一个竞拍者有$2^m$个私人参数，这个$m$的值如果较大，那么整个参数空间会非常庞大，而bidders是无法计算出这么多参数的。这个问题对于所有的直接显示机制都会存在，不仅仅是VCG机制。

第二个挑战在于可计算性的问题。

第三个问题是VCG机制在实际的应用中往往会导致差的卖家收入和非常差的激励机制。考虑一个组合拍卖的问题，如果有两个bidders同时还有两个items，假设1号玩家只想要两个商品，即$v_1(AB)=1$其余的均为0，而二号玩家只想要A物品，那么就有$v_2(AB)=V_2(A)=1$其余情况均为0. 在这种情况下社会福利最大为1，卖家收入为1；而如果在这个拍卖中再加入一个3号玩家，这个三号玩家的偏好是$v_3(AB)=v_3(B)=1$，其余情况下为0，那么在这种情况下使用VCG机制，我们最终得到的结果是社会福利最大为2，而卖家收入变成了0.

----

> 在广义的机制设计环境下，我们可以角度转换，认为每一个agent对于产生的每一种结果都有一个估值。
>
> 无论在理论中还是在实践中，组合拍卖是一种非常重要的例子。
>
> VCG机制的分配策略是在所有的可能结果中寻找能够最大化社会福利的结果，payment则是根据每一个agent的外部性决定的，即由于他的出现其他人的福利的减少值。
>
> 每一个VCG机制都是DSIC的。
>
> VCG机制在实际使用有很多的麻烦，包括计算量，参数量庞大，可能会收支不平衡等问题。



