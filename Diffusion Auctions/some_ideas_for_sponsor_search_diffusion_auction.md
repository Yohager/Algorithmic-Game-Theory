一些基本的规则问题

1. IC diffusion auction中的单调分配规则是满足分配规则关于报价是非递减的，关于传播情况是非递增的，构成一个偏序关系下的单调规则。
2. 关于payment，payment规则与自身报价无关，关于传播情况是非递增的。
3. 计算收益：$u_i(v_i,r_i)=v_i\cdot f(v_i,r_i) - p(r_i)$. $f$是一个diffusion auction下的单调分配函数。
4. critical bid算是一个关于传播情况的函数，critical bid是关于传播情况非递减的。（这是解决分配问题的一个关键）
5. 对于一个IC diffusion auction的机制来说，efficient和(weakly)budget-balanced之间是不能同时满足的。
6. $\tilde{x}(r_i)_i-\bar{x}_i(r_i)=v^\ast_i(r_i)$如何使用起来？
7. <font color=red>IC diffusion auction的efficiency与weakly budget-balanced之间的trade-off有没有一种系统研究？</font>

一些解决方案：

1. 分析每个人的传播能够对机制的走向以及自身的收益的影响
2. 构建critical diffusion tree是一个关键点，对于一个节点来说他的传播效益的体现一定是在critical diffusion tree上，其他的传播都是无价值传播
3. 定义一个有效的分析序列，这个序列决定着哪些人有优先进行判断是否能够获得一个slot的权利？
4. 分析一个bidder能否获得item的关键因素是$v^k(\tilde{T}_{-i})$.
5. 面对$v_i^1 \geq v_i^2$但是$r_i^2\subseteq r_i^1$的情况下的分配规则，在不满足这种偏序情况下的分配结果。
6.  深刻理解$\tilde{x}_i(r_i)-\bar{x}_i(r_i)=v^\ast_i(r_i)$. 思考在没有diffusion的情况下，这时候单物品情境下获胜者的支付结果是关键报价，但是考虑了传播之后的情况就需要考虑当出现buyer因为传播而导致的从winner变成loser时候的一个补偿。这个补偿就是$\bar{x}_i(r_i)$. 
7. 将IC diffusion auction扩展到sponsor search的情境下的时候会存在一个很大的问题是payment的分解不再是分解为$\tilde{x}_i$和$\bar{x}_i$而是变成一个多阶段的分解payment. 
8. 从价高者得的单调分配规则改变为非传递条件下的价高者得。
9. <font color=red>放宽要求，先考虑使用VCG下的单调的分配规则。价格前k高的人获得前k个slot.</font>
10. 在构造出一颗关键传播Tree的情况下可以考虑分析所有路径上的情况。（存在需要传播补偿的情况）
11. 抽象的写出一个关于关键字赞助传播拍卖的情景就是考虑将最大化社会福利（或者其他指标）作为优化目标写成优化问题的一个分配规则。
12. 从最高价开始分析，判断他是否有资格获得第一名的位次。依次类推这个过程。
13. 能否先放宽WBB的限制，寻找满足efficiency的分配规则是容易的。
14. 分配存在efficiency同时传播也是存在efficiency的

15. 一个问题，如果我不传我只去考虑我自己的变化情况但是实际上在我不传的情况下也对整个系统带来了一定的影响。（这个问题也很重要）
16. 整理目前的思路，思考存在的问题以及找一个case

---

<font color=red>梳理问题的关键点</font>

在多物品的diffusion auction中一共会存在这样几类人群：

1. 无法获得一件物品同时进行的都是无效传播，收益为0.
2. 无法获得一件物品但是进行了一部分有效传播，存在有效传播的收益。
3. 获得一件商品但是没有进行有效的传播，存在获得商品的收益但是不存在传播收益。
4. 获得一件商品同时进行了有效的传播，存在获得商品的收益以及传播的收益。

另一种思路的解决方案：

假设存在一种分配规则$f(v_i,r_i)$是在IC-DA下单调的，我们下面寻找对于$f(v_i,r_i)=1$的bidders的payment的想法。假设$f(v_i,r_i)=\alpha_j$. 也就是$i$玩家被分配到了$j$位置上。

固定其他所有人的types， 只分析$i$的type的变化对于他slot的变化的影响。

$t_i=(v_i,r_i)$. 假设固定传播，分析$v_i$的变化对于他slot变化的影响？$v_i$从0到$v^\ast_j$过程下他需要支付多少钱？

固定$v_i$，他的$r_i$关于payment的变化。（<font color=red>这个是解决问题的关键点</font>）

#### 目前的一些进展工作（2020.9.5）

VCG在多物品的diffusion auction上是否IC？（证明完成VCG在多物品上的diffusion auction是IC的下面考虑思考IDM的演化）

GIDM的不IC的问题在于回溯的过程存在不传播比传播的收益更高。

割点优先分配和price高优先分配之间的trade-off与Revenue最大化以及efficient之间的trade-off是相关的甚至是对应的！！！

 这种先判断割点的方式完全可以看成是IDM在多物品上的一种扩展。（因为CFM中当item的数量设置为1时其分配结果等价于IDM（一定是等价的））
现在的目标变为寻找一个关键的支付规则！

#### 最新的探究（2020.9.21）

1. 在single-item的diffusion auction下的revenue最大化问题是否已经解决？
2. multi-items的diffusion auction在哪里能够找到最大的revenue？
3. 考虑得到的多物品的新机制能够完整的退化到IDM上形成一个对照的问题。
4. reward is hard to give? （给出的reward的值需要避免让一个cut node有从winner变成loser来获得更好收益的情况出现）

#### 考虑多轮的IDM机制对于payment设置为市场清空价格（2020.11.2）

多轮的IDM：第一轮找到价格最高的bidder，根据其传播的critical diffusion sequence依次判断是否存在赢得一个物品的可能性（分配方式与IDM一致）如果是非最高价者获得物品，则其支付为IDM的支付方法，如果是最高价者获得物品则其支付方式为市场清空的支付价格。

IDM机制中关于reward的一个点理解是：reward：$v_{-i}^\ast-v^\ast_{-{(i+1)}}$，实际上是希望在除了最高价的那个sequence之外有了别的高价（$i$传播或者不传播之间存在一定的差异性）

在非最高价获得物品的情况下需要考虑一下中间点得到物品的支付规则的改变。（是否应该还是市场清空价格还是？）

对于每个参与的bidder，在给定了最终的密封auction的估值以及diffusion strategies之后，每个人的关键报价都是确定了的，这个关键报价就是他能够获胜的最低价格。这个价格应该等于我不参与的情况下我所能够获胜的最低价格。

证明IC的过程应该包括：首先在每一个阶段都是IC的，其次是没有任何的bidder可以通过高报或者低报改变判断的顺序来使得自己的收益提高。

在对于最高价节点来说，当我们固定其支付为市场清空价格的时候我们就可以知道其不存在动机去虚报自己的价格，因为他的收益一定等于$v_i-v^\ast$，$v^\ast$表示的是市场清空价格。那么这样整个graph中判断顺序就固定了。（还不确定，前驱节点的IC性目前来说还没有保证 ）

单物品下IDM分析时删除的是最高价路径上对于他产生竞争的传播策略。

多物品下的情况我们需要删掉的是在他的子树下的那些与他产生竞争的传播策略。

#### 关于目前机制设计情况的IC证明的思路（2020.11.13）

首先简述一下已有的机制：

假设$n$个bidder，$k$个items （$n>k$）

根据网络的结构：将从seller开始的所有的cut nodes按照depth进行层次的划分。

> while  $(k\geq 0)$:
>
> ​	for i in set C(cut nodes set which have been sorted by depth 同一层随机排序)
>
> ​		if $v_i>v_{-\alpha_i}^k$，那么给$i$分配一个item同时其支付为: $v_{-i}^k$,
>
> ​								将$k-=1$，将$i$添加到winner集合中（将其估值置零）
>
> ​		else $v_i \leq v_{-\alpha_i}^k$ 无法获得一个物品：$p_i=v_{-i}^k-v_{-\alpha_i}^k$. 
>
> ​	if 将set C中的点都判断完毕，仍然剩余物品的数量为$(k-m)$对所有的叶子节点从高价到低价进行给予物品且给予的方式是以市场清空的价格分给剩下的叶子节点。

证明IC性：

整体可以将所有的bidders分为以下四类：

- cut nodes win an item 
- cut nodes not win an item 
- cut nodes win an item 
- cut nodes not win an item 

##### Cut nodes win an item

1. fix $r_i$ change $b_i$

   对于一个割点来说，它无法通过改变报价来改变网络的结构因此它就无法通过改变报价来改变自己的次序，对于他来说改变$b_i$能够改变的是他是否获得一个物品，假设实报获得第$j$个物品，收益表示为$u_i=v_i-v_{-i}^j$，假设低报，他可能会输掉物品，其收益变为：$v_{-\alpha_i}^j-v_{-i}^j$，收益降低；相反的角度分析这个人高报，支付与其报价无关，因此高报没有意义。

2. fix $b_i$ change $r_i$

   假设固定报价，对于$i$来说，$r_i$是如实传，$r_i'$是少传，假设少传会出现的情况有：如果少传的是叶子节点，那么网络中少了一些叶子节点，对于他自己来说，可能带来的影响是：本来自己的是一个winner的，但是由于少传，给前面的人减少了对手数量，因此前面的cut nodes原本不能win的现在能够win了，导致的结果是自己从winner因为次序的关系变成了unlucky player了收益降低了；还有一种情况，少传了一个点，使得自己同一层原本不是割点的点变为了割点，别人有了优先判断的资格，同样存在可能性降低自己的收益，另外的话还有可能出现少传使得一个节点（可能是割点）的优先级降低了，这种情况下不会降低自己的收益也不会提升自己的收益（$u_i=v_i-v_{-i}^j$没办法通过这样的途径改变收益，尤其是提升自己的收益）。

   （有点问题，存在通过改变自己的传播使得自己的次序有变化的情况。数量没变化但是bidders改变了, 这些变化不会给bidder $i$的收益带来增加，因为它的竞争对手始终还是那群人。）

##### Cut nodes can not win

1. fix $r_i$ change $b_i$

   对于无法win的割点来说，可能存在两种情况考虑，第一种情况是因为次序的关系，成了一个unlucky player，从而无法win，这种情况下，他无法通过改变自己的报价来使得自己的次序发生改变，但是他可以通过提高报价使得前面的某个人无法win从而使得自己能够有机会获得物品，但是在这种情况下他的收益一定是降低的，假设最后一个winner表示为$k$，他win的条件是大于$v^\ast_{-\alpha_k}$，显然如果后面的一个人想要通过高报让$k$号bidder win不了，考虑这个玩家是$m$，显然我们肯定有$v_m\leq v^\ast_{-\alpha_k}$同时$v_k\geq v^\ast_{-\alpha_k}$的，如果他想要高报使得$k$赢不了那么一定得大于$v_k$，这样就算他最后win了他的收益也从0变为了负数，收益降低了；第二种情况 无法win是因为价格不够，此时他的收益为：$v_{-\alpha_i}^j-v^j_{-i}$，他高报想要win一个物品就算赢了收益也低于这个值，低报同样没有意义。

2. fix $b_i$ change $r_i$

   一种情况少了一些叶子节点，可能导致收益降低：$v_{-\alpha_i'}^j-v_{-i}^j\leq v_{-\alpha_i}^j-v_{-i}^j$；下一种情况：可能使得原本不是割点的点变成了割点，无法对$v_{-\alpha_i}^j-v_{-i}^j$产生什么影响。收益不会发生变化。同样的如果割点的情况是改变了与自己同一级竞争的人是谁但是没有改变在同一层中进行判断的人的数量同样也是无法改变这个收益的，因为本质上无论如何他少传一定会关于它的收益呈现非递增的关系。


##### no cut nodes win an item 

这种情境下，这群人要么没有传播，在$r_i=\emptyset$的情况下， 他的支付也与他自己的报价无关同时他的报价也无法改变自己被判定的顺序，因此在这种情况下他没有任何理由进行虚报；在有传播的情况下，少传$r_i'$是无法使自己变为一个割点同时也无法让自己的收益增加。

##### no cut nodes can not win an item 

这群人无法通过虚报价格或者少传播来使得自己的收益增加。

##### 证明IC性的重点研究问题

考虑一个cut node通过虚报自己的价格来使得前面cut nodes的支付发生改变。

这个cut node能够影响两条分支，一个分支是自己的分支；另一个分支是这个虚报改变的前$k$高的bidders的那个所在的分支；对这两个分支的影响在于：使得自己所在的分支上的前面的cut nodes的获得一个item的概率增加了；对于另外一个分支的前面的cut nodes的获得一个item的概率降低了。

（如何证明这种情景是不存在的，也就是这个cut node是不会去高报的）

